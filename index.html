<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>milki ‚ú¶</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #f2a7c3;
    --pink-soft: #fdf0f5;
    --pink-mid: #f7d4e4;
    --text: #2a1f2e;
    --text-muted: #9b8fa8;
    --bg: #fdfbfc;
    --border: #f0e6ed;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    font-family: 'DM Sans', sans-serif;
    color: var(--text);
    min-height: 100vh;
  }

  main {
    max-width: 480px;
    margin: 0 auto;
    padding: 72px 28px 80px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 40px;
  }

  /* Header */
  .header {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
  }

  .avatar {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    background: var(--pink-mid);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: 2.8rem;
    font-weight: 400;
    letter-spacing: -0.01em;
    color: var(--text);
    line-height: 1;
  }

  .tagline {
    font-size: 0.85rem;
    color: var(--text-muted);
    font-weight: 500;
    letter-spacing: 0.04em;
  }

  .bio {
    font-size: 0.97rem;
    line-height: 1.75;
    color: var(--text);
    text-align: center;
    max-width: 340px;
  }

  /* Divider */
  .divider {
    width: 100%;
    height: 1px;
    background: var(--border);
  }

  /* Badges */
  .badges {
    display: flex;
    flex-wrap: wrap;
    gap: 7px;
    justify-content: center;
  }

  .badge {
    padding: 5px 14px;
    border-radius: 99px;
    font-size: 0.8rem;
    font-weight: 500;
    background: var(--pink-soft);
    color: #b06090;
    border: 1px solid var(--pink-mid);
  }

  /* Links */
  .links {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
  }

  .section-title {
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-muted);
    font-weight: 600;
    margin-bottom: 2px;
  }

  .link-card {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 18px;
    border: 1px solid var(--border);
    border-radius: 14px;
    text-decoration: none;
    color: var(--text);
    background: white;
    transition: border-color 0.15s, box-shadow 0.15s;
    font-weight: 500;
    font-size: 0.95rem;
  }

  .link-card:hover {
    border-color: var(--pink);
    box-shadow: 0 2px 16px rgba(242,167,195,0.2);
  }

  .link-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: var(--pink-soft);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 1.1rem;
  }

  .link-meta { flex: 1; }
  .link-platform { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.08em; }
  .link-name { font-weight: 600; font-size: 0.95rem; }

  /* Drawing section */
  .draw-section {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  .canvas-wrap {
    position: relative;
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    background: white;
    cursor: crosshair;
  }

  #drawCanvas {
    display: block;
    width: 100%;
    touch-action: none;
  }

  .draw-tools {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .colors {
    display: flex;
    gap: 7px;
    flex: 1;
  }

  .color-btn {
    width: 26px;
    height: 26px;
    border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer;
    transition: transform 0.15s, border-color 0.15s;
    flex-shrink: 0;
  }

  .color-btn:hover { transform: scale(1.15); }
  .color-btn.active { border-color: var(--text); }

  .tool-btn {
    padding: 6px 14px;
    border-radius: 99px;
    border: 1px solid var(--border);
    background: white;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text);
    cursor: pointer;
    transition: border-color 0.15s, background 0.15s;
  }

  .tool-btn:hover {
    border-color: var(--pink);
    background: var(--pink-soft);
  }

  .tool-btn.active {
    background: var(--pink-soft);
    border-color: var(--pink);
    color: #b06090;
  }

  .size-slider {
    width: 70px;
    accent-color: var(--pink);
  }

  /* Share area */
  .share-area {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .share-btn {
    padding: 12px 20px;
    border-radius: 12px;
    border: none;
    background: var(--pink-mid);
    color: #7a3060;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.15s;
    width: 100%;
  }

  .share-btn:hover { background: #f0c8db; }

  .share-link-wrap {
    display: none;
    flex-direction: column;
    gap: 6px;
  }

  .share-link-wrap.visible { display: flex; }

  .share-note {
    font-size: 0.78rem;
    color: var(--text-muted);
    line-height: 1.5;
  }

  .share-link-box {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .share-link-input {
    flex: 1;
    padding: 9px 12px;
    border: 1px solid var(--border);
    border-radius: 10px;
    font-size: 0.78rem;
    font-family: 'DM Sans', sans-serif;
    color: var(--text-muted);
    background: white;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .copy-btn {
    padding: 9px 14px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: white;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
  }

  .copy-btn:hover { border-color: var(--pink); background: var(--pink-soft); }
  .copy-btn.copied { background: #e8f5e9; border-color: #a5d6a7; color: #388e3c; }

  /* Footer */
  footer {
    font-size: 0.75rem;
    color: var(--text-muted);
    letter-spacing: 0.04em;
  }

  /* If arriving via a shared drawing link */
  .shared-drawing-banner {
    display: none;
    width: 100%;
    background: var(--pink-soft);
    border: 1px solid var(--pink-mid);
    border-radius: 14px;
    padding: 16px 18px;
    font-size: 0.88rem;
    color: #b06090;
    text-align: center;
    line-height: 1.6;
  }

  .shared-drawing-banner.visible { display: block; }
  .shared-drawing-banner strong { font-weight: 700; }
</style>
</head>
<body>
<main>

  <!-- Profile -->
  <div class="header">
    <div class="avatar">üå∏</div>
    <h1>milki</h1>
    <p class="tagline">gamer ¬∑ small project dev ¬∑ she/any</p>
    <p class="bio">hi!! i'm milki üëã i'm figuring some things out üåø feel free to add me on any of my socials below!</p>
  </div>

  <div class="badges">
    <span class="badge">üéÆ games yes</span>
    <span class="badge">üåø plants are cool</span>
    <span class="badge">‚ú® she/any</span>
  </div>

  <div class="divider"></div>

  <!-- Socials -->
  <div class="links" style="width:100%">
    <p class="section-title">find me here</p>
    <a class="link-card" href="https://discord.com/users/pmilki" target="_blank" rel="noopener">
      <div class="link-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="#5865F2"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
      </div>
      <div class="link-meta">
        <div class="link-platform">Discord</div>
        <div class="link-name">pmilki</div>
      </div>
      <span style="color:var(--text-muted); font-size:0.9rem;">‚Üí</span>
    </a>

    <a class="link-card" href="https://www.roblox.com/users/7653720053" target="_blank" rel="noopener">
      <div class="link-icon" style="font-size:1.2rem;">üéÆ</div>
      <div class="link-meta">
        <div class="link-platform">Roblox</div>
        <div class="link-name">permilki</div>
      </div>
      <span style="color:var(--text-muted); font-size:0.9rem;">‚Üí</span>
    </a>
  </div>

  <div class="divider"></div>

  <!-- Drawing section -->
  <div class="draw-section">
    <p class="section-title">leave a drawing ‚úèÔ∏è</p>

    <div class="shared-drawing-banner" id="sharedBanner">
      <strong>someone sent milki a drawing!</strong><br>
      scroll down to make your own ‚Üì
    </div>

    <div class="canvas-wrap">
      <canvas id="drawCanvas" width="900" height="500"></canvas>
    </div>

    <div class="draw-tools">
      <div class="colors">
        <button class="color-btn active" data-color="#2a1f2e" style="background:#2a1f2e;" title="dark"></button>
        <button class="color-btn" data-color="#f2a7c3" style="background:#f2a7c3;" title="pink"></button>
        <button class="color-btn" data-color="#a78bfa" style="background:#a78bfa;" title="lavender"></button>
        <button class="color-btn" data-color="#6ee7b7" style="background:#6ee7b7;" title="mint"></button>
        <button class="color-btn" data-color="#fbbf24" style="background:#fbbf24;" title="yellow"></button>
        <button class="color-btn" data-color="#60a5fa" style="background:#60a5fa;" title="blue"></button>
        <button class="color-btn" data-color="#ffffff" style="background:#ffffff; border-color:#e0d0da;" title="white"></button>
      </div>
      <input type="range" class="size-slider" id="sizeSlider" min="2" max="24" value="5" title="brush size">
      <button class="tool-btn active" id="penBtn">pen</button>
      <button class="tool-btn" id="eraseBtn">erase</button>
      <button class="tool-btn" id="clearBtn">clear</button>
    </div>

    <div class="share-area">
      <button class="share-btn" id="shareBtn">‚ú® generate shareable link</button>
      <div class="share-link-wrap" id="shareLinkWrap">
        <p class="share-note">copy this link and send it to me to share your masterpiece!</p>
        <div class="share-link-box">
          <input class="share-link-input" id="shareLinkInput" readonly>
          <button class="copy-btn" id="copyBtn">copy</button>
        </div>
      </div>
    </div>
  </div>

  <footer>made with üíï by milki</footer>

</main>

<script>
  const canvas = document.getElementById('drawCanvas');
  const ctx = canvas.getContext('2d');

  // Fill white bg
  function fillBg() {
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
  }
  fillBg();

  let drawing = false;
  let erasing = false;
  let currentColor = '#2a1f2e';
  let currentSize = 5;
  let lastX = 0, lastY = 0;

  function getPos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = canvas.width / rect.width;
    const scaleY = canvas.height / rect.height;
    if (e.touches) {
      return [
        (e.touches[0].clientX - rect.left) * scaleX,
        (e.touches[0].clientY - rect.top) * scaleY
      ];
    }
    return [(e.clientX - rect.left) * scaleX, (e.clientY - rect.top) * scaleY];
  }

  function startDraw(e) {
    e.preventDefault();
    drawing = true;
    [lastX, lastY] = getPos(e);
  }

  function draw(e) {
    e.preventDefault();
    if (!drawing) return;
    const [x, y] = getPos(e);
    ctx.beginPath();
    ctx.moveTo(lastX, lastY);
    ctx.lineTo(x, y);
    ctx.strokeStyle = erasing ? '#ffffff' : currentColor;
    ctx.lineWidth = erasing ? currentSize * 3 : currentSize;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    ctx.stroke();
    [lastX, lastY] = [x, y];
  }

  function stopDraw() { drawing = false; }

  canvas.addEventListener('mousedown', startDraw);
  canvas.addEventListener('mousemove', draw);
  canvas.addEventListener('mouseup', stopDraw);
  canvas.addEventListener('mouseleave', stopDraw);
  canvas.addEventListener('touchstart', startDraw, { passive: false });
  canvas.addEventListener('touchmove', draw, { passive: false });
  canvas.addEventListener('touchend', stopDraw);

  // Color buttons
  document.querySelectorAll('.color-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentColor = btn.dataset.color;
      erasing = false;
      document.getElementById('penBtn').classList.add('active');
      document.getElementById('eraseBtn').classList.remove('active');
    });
  });

  // Size
  document.getElementById('sizeSlider').addEventListener('input', e => {
    currentSize = parseInt(e.target.value);
  });

  // Pen/erase/clear
  document.getElementById('penBtn').addEventListener('click', () => {
    erasing = false;
    document.getElementById('penBtn').classList.add('active');
    document.getElementById('eraseBtn').classList.remove('active');
  });

  document.getElementById('eraseBtn').addEventListener('click', () => {
    erasing = true;
    document.getElementById('eraseBtn').classList.add('active');
    document.getElementById('penBtn').classList.remove('active');
  });

  document.getElementById('clearBtn').addEventListener('click', () => {
    fillBg();
  });

  // Share: encode canvas as base64 in URL hash
  document.getElementById('shareBtn').addEventListener('click', () => {
    const dataUrl = canvas.toDataURL('image/png');
    // Compress by using jpeg
    const jpegUrl = canvas.toDataURL('image/jpeg', 0.5);
    const encoded = btoa(jpegUrl);
    const shareUrl = window.location.origin + window.location.pathname + '#drawing=' + encoded;
    document.getElementById('shareLinkInput').value = shareUrl;
    document.getElementById('shareLinkWrap').classList.add('visible');
  });

  document.getElementById('copyBtn').addEventListener('click', () => {
    const input = document.getElementById('shareLinkInput');
    navigator.clipboard.writeText(input.value).then(() => {
      const btn = document.getElementById('copyBtn');
      btn.textContent = 'copied!';
      btn.classList.add('copied');
      setTimeout(() => {
        btn.textContent = 'copy';
        btn.classList.remove('copied');
      }, 2000);
    });
  });

  // On load: check for shared drawing in URL hash
  window.addEventListener('load', () => {
    const hash = window.location.hash;
    if (hash.startsWith('#drawing=')) {
      try {
        const encoded = hash.slice('#drawing='.length);
        const dataUrl = atob(encoded);
        const img = new Image();
        img.onload = () => {
          fillBg();
          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        };
        img.src = dataUrl;
        document.getElementById('sharedBanner').classList.add('visible');
      } catch(e) {
        // bad hash, ignore
      }
    }
  });
</script>
</body>
</html>